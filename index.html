<!DOCTYPE html>
<html>
  <head>
    <title>ãŸã¦ã‚ˆã“Webã‚¢ãƒ¯ãƒ¼ãƒ‰ã«å¿œå‹Ÿã—ã¦ã¿ãŸ</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <style type="text/css">
      @import url(https://fonts.googleapis.com/css?family=Yanone+Kaffeesatz);
      @import url(https://fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic);
      @import url(https://fonts.googleapis.com/css?family=Ubuntu+Mono:400,700,400italic);

      body { font-family: 'Droid Serif', 'YuGothic', 'Arial', serif; }
      h1, h2, h3, h4 {
        font-weight: normal;
        color: #c18100;
        line-height: 1;
      }
      a,
      a:link,
      a:visited {
        color: #825700;
      }
      li {
        margin-top: 5px;
      }
      li:first-child {
        margin-top: 0;
      }
      ul ul {
        margin-top: 5px;
      }
      .remark-code, .remark-inline-code { font-family: 'Ubuntu Mono'; }
      .big {
        font-size: 150px;
      }
      code.text {
        white-space: normal;
      }
      pre {
        padding: 1em;
        background-color: #eee;
      }
      table {
        width: 100%;
      }
      th {
        padding: 0.5em;
        background-color: #ffdbb6;
      }
      td {
        padding: 0.5em;
        background-color: #fff7e7;
      }
      tr {
        background-color: #eee;
      }
      .w100 img {
        width: 100%;
      }
      .del {
        text-decoration: line-through;
      }
    </style>
  </head>
  <body>
    <textarea id="source">


      class: center, middle

      # ãŸã¦ã‚ˆã“Webã‚¢ãƒ¯ãƒ¼ãƒ‰ã«<br>å¿œå‹Ÿã—ã¦ã¿ãŸ

      2017/03/15

      Kobayashi Kazuhiro (kzhrk)


      ---


      ## Agenda

      - ãŸã¦ã‚ˆã“Webã‚¢ãƒ¯ãƒ¼ãƒ‰ã¨ã¯
      - ä½¿ç”¨æŠ€è¡“
      - writing-mode
      - React.js
      - ã›ã‚“ã‚Šã†ã®ä»Šå¾Œ


      ---
      class: center, middle


      # ãŸã¦ã‚ˆã“Webã‚¢ãƒ¯ãƒ¼ãƒ‰ã¨ã¯


      ---


      ## ãŸã¦ã‚ˆã“Webã‚¢ãƒ¯ãƒ¼ãƒ‰ã¨ã¯

      ```text
      ãŸã¦ã‚ˆã“Webã‚¢ãƒ¯ãƒ¼ãƒ‰ã¯ã€CSSã®æ–°ãŸãªçµ„ç‰ˆè¦æ ¼ã‚’ä½¿ç”¨ã—æ¬¡ä¸–ä»£ã®Webã‚¿ã‚¤ãƒã‚°ãƒ©ãƒ•ã‚£ã«æŒ‘æˆ¦ã—ãŸãƒ‡ã‚¶ã‚¤ãƒ³ã‚„å–ã‚Šçµ„ã¿ã‚’è¡¨å½°ã™ã‚‹ãŸã‚ã®ã‚¢ãƒ¯ãƒ¼ãƒ‰ã§ã™ã€‚
      ```

      ãƒ†ã‚­ã‚¹ãƒˆã®è¡Œã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’æ°´å¹³ã¾ãŸã¯å‚ç›´ã«ã€ãƒ–ãƒ­ãƒƒã‚¯ã®æµã‚Œã‚‹æ–¹å‘ã‚’å·¦å‘ãã¾ãŸã¯å³å‘ãã«å®šç¾©ã™ã‚‹CSSã®writing-modeãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’ä½¿ã£ã¦ç¸¦æ›¸ãã‚’è¡¨ç¾ã™ã‚‹ã€‚


      ---


      ## å¿œå‹Ÿã—ã¦ã¿ãŸ

      .w100[![ã›ã‚“ã‚Šã†](/img/senriu.png)]

      http://senriu.com/


      ---
      class: center, middle


      # ä½¿ç”¨æŠ€è¡“


      ---
      class: center, middle


      .w100[![](/img/figure.png)]


      ---


      ## nginx

      express.jsã§Port 3000ã«HTTP Serverã‚’ç«‹ã¦ã¦ã€nginxã®upstreamã§Port 80ã«å‘ã‘ã‚‹ã€‚

      ```
      upstream tateyoko {
        server localhost:3000;
      }

      server {

        ...

        location / {
          proxy_pass http://tateyoko/;
        }

        ...

      }
      ```


      ---


      ## MongoDB

      ODMï¼ˆObject Document Mapperï¼‰ã¯mongooseã€‚

      mongooseã®æ‹¡å¼µãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã¯ç‰¹ã«ä½¿ç”¨ã›ãšã€‚

      Modelã¯2ã¤ã ã‘ã€‚


      ---


      ## express

      RESTful APIã‚’å®Ÿè£…ã€‚

      ```js
      const apiRouter = express.Router();

      apiRouter.route('/senriu')
        .post((req, res)=>{
          ...
        })
        .get((req, res)=>{
          ...
        })
        .delete((req, res)=>{
          ...
        });
      ```

      ???

      method-overrideã‚’ä½¿ã£ã¦queryãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã§deleteå®Ÿè£…ã€‚

      superagentã«.del()ãƒ¡ã‚½ãƒƒãƒ‰ã‚ã£ãŸã®ã§method-overrideä¸è¦â€¦


      ---


      ## React.js

      facebookãŒã¤ãã£ãŸViewModelãªãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã€‚

      Virtual DOMï¼ˆä»®æƒ³DOMï¼‰ãŒç‰¹å¾´ã€‚


      ---


      ## PostCss

      CSSã‚’ä½œæˆã™ã‚‹ãŸã‚ã®ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã€‚

      PostCss Pluginsã®precssã‚’èª­ã¿è¾¼ã‚ã°sass likeãªcssãŒæ›¸ã‘ã‚‹ğŸ’ªğŸ’ªğŸ’ª

      --

      => node-sassã‚’ä½¿ã†ã¹ãã§ã¯ğŸ¤”


      ---


      ## ä½¿ç”¨ã—ãŸPostCss Plugins

      | Plugin | Description |
      |---|---|
      | autoprefixer | Can I Useã®ãƒ‡ãƒ¼ã‚¿ã‚’å…ƒã«vendor prefixã‚’ã¤ã‘ã‚‹ |
      | postcss-import | sassã®@import |
      | postcss-custom-media | @custom-media |


      ---


      ## Webpack

      css-loaderã§CSS Scopeï¼ˆ:localï¼‰ã‚’ã‚„ã£ãŸã€‚

      ```js
      export default {

        ...

        module: {
          loaders: [{
            test: /\.css$/,
            loader: 'style!css!postcss'
          }]
        }

        ...

      }
      ```


      ---


      ## CSS Scope

      Webpackã§requireã™ã‚‹CSSãƒ•ã‚¡ã‚¤ãƒ«å†…ã§ã€ã‚¯ãƒ©ã‚¹ã‚»ãƒ¬ã‚¯ã‚¿ã®å‰ã«:localã‚’è¿½åŠ ã™ã‚‹ã¨hashåŒ–ã•ã‚ŒãŸã‚¯ãƒ©ã‚¹ã‚»ãƒ¬ã‚¯ã‚¿ã«å¤‰æ›ã•ã‚Œã‚‹ã€‚

      ```css
      :local .className { background: red; }
      :local .className { color: green; }
      :local .className .subClass { color: green; }
      ```

      ```css
      ._23_aKvs-b8bW2Vg3fwHozO { background: red; }
      ._23_aKvs-b8bW2Vg3fwHozO { color: green; }
      ._23_aKvs-b8bW2Vg3fwHozO ._13LGdX8RMStbBE9w-t0gZ1 { color: green; }
      ```


      ---


      ## CSS Scopeã®æ‰€æ„Ÿ

      ã¤ã‚‰ã„ã€‚

      --

      ãƒ­ã‚¯ã«è¨­è¨ˆã—ãªã‹ã£ãŸã®ã§ã ã„ã¶ã¤ã‚‰ã„ã€‚

      postcsssã®ãƒã‚¹ãƒˆç³»ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ä¸€åˆ‡å…¥ã‚Œãªã‹ã£ãŸã®ã§ã¨ã¦ã‚‚ã¤ã‚‰ã„ã€‚

      .center[â†“]

      --

      BEMã‚„ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ãƒ¬ãƒ™ãƒ«ã®ãƒ«ãƒ¼ãƒ«ã¯æœ€ä½é™å¿…è¦ã€‚

      CSSè¨­è¨ˆæ€æƒ³ã‹ã‚‰ã¯é€ƒã’ã‚‰ã‚Œãªã„ã€‚

      å¤‰ãªã“ã ã‚ã‚Šã‚’æŒãŸãšã«postcssã§ã‚ã‚Œã°postcss-nesting|postcss-nestedã€ã‚‚ã—ãã¯node-sassã‚’ä½¿ã†ã¹ãã€‚


      ---


      ## writing-mode

      ãƒ†ã‚­ã‚¹ãƒˆã®è¡Œã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’æ°´å¹³ã¾ãŸã¯å‚ç›´ã«ã€ãƒ–ãƒ­ãƒƒã‚¯ã®æµã‚Œã‚‹æ–¹å‘ã‚’å·¦å‘ãã¾ãŸã¯å³å‘ãã«å®šç¾©ã™ã‚‹ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã€‚

      ãƒ–ãƒ­ãƒƒã‚¯ãƒ¬ãƒ™ãƒ«ã®ã‚³ãƒ³ãƒ†ãƒŠãŒç©ã¿ä¸ŠãŒã‚‹æ–¹å‘ã€ãƒ–ãƒ­ãƒƒã‚¯ã‚³ãƒ³ãƒ†ãƒŠå†…ã§ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ãƒ¬ãƒ™ãƒ«ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãŒæµã‚Œã‚‹æ–¹å‘ã‚‚å®šç¾©ã•ã‚Œã‚‹ã®ã§ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆæ§‹é€ ã‚’è€ƒãˆãšã«ç„¡é—‡ã«ãƒ©ãƒƒãƒ‘ãƒ¼ã¨ãªã£ã¦ã„ã‚‹HTMLè¦ç´ ã«å®šç¾©ã™ã‚‹ã¨ç—›ã„ç›®ã«é­ã†ï¼ˆé­ã£ãŸï¼‰ã€‚

      ???

      ãƒ†ã‚­ã‚¹ãƒˆã®æ–¹å‘ã¨ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ãƒ¬ãƒ™ãƒ«ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®æ–¹å‘ã‚’å®šç¾©ã™ã‚‹ã®ã«ç•™ã‚ã‚‹ã®ãŒç„¡é›£ã€‚ãƒ–ãƒ­ãƒƒã‚¯ãƒ¬ãƒ™ãƒ«ã®ã‚³ãƒ³ãƒ†ãƒŠã®ç©ã¿ä¸Šã’ã¯å¾“æ¥é€šã‚Šã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆæ–¹å‘ã§è¡Œã†ã¹ãã€‚


      ---


      ## writing-mode

      å„ç¨®ãƒ–ãƒ©ã‚¦ã‚¶ã‚µãƒãƒ¼ãƒˆçŠ¶æ³: http://caniuse.com/#search=writing-mode

      ã ã„ãŸã„verndor prefixãŒå¿…è¦ãªã®ã§autoprefixerä½¿ã„ã¾ã—ã‚‡ã†ã€‚


      ---


      ## ãƒã‚°å ±å‘Š

      Chromeã§ç¸¦æ›¸ãè¦ç´ ã«paddingã‚’ã¤ã‘ã‚‹ã¨Xè»¸ã®positionãŒã‚ºãƒ¬ã‚‹ã€‚

      widthã¨heightã®æŒ‡å®šã§ã‚ã‚Œã°å•é¡Œãªã„ã€‚

      <iframe height='265' scrolling='no' title='writing-mode bug - position-x' src='//codepen.io/kzhrk/embed/bqVVQP/?height=265&theme-id=0&default-tab=css,result&embed-version=2' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%;'>See the Pen <a href='https://codepen.io/kzhrk/pen/bqVVQP/'>writing-mode bug - position-x</a> by Kobayashi Kazuhiro (<a href='http://codepen.io/kzhrk'>@kzhrk</a>) on <a href='http://codepen.io'>CodePen</a>.</iframe>


      ---


      ## ãƒã‚°å ±å‘Š

      position: absolute;ã¨å·¦å³ã®paddingã‚’ã‚‚ã¤è¦ªè¦ç´ ã®å†…éƒ¨ã§è¦ç´ ã‚’floatã•ã›ã€floatè¦ç´ ã®ä¸­ã§ç¸¦æ›¸ãè¦ç´ ã‚’ã¤ãã‚‹ã¨Firefoxã¨Chromeã§ãƒã‚°ã‚‹ã€‚
      Firefoxã§ã¯paddingãŒç„¡è¦–ã•ã‚Œã‚‹ã€‚
      Chromeã§ã¯ç¸¦æ›¸ãè¦ç´ å†…ã®ãƒ†ã‚­ã‚¹ãƒˆãŒã€æ¨ªæ›¸ãã«ãªã£ãŸçŠ¶æ…‹ã§è¦ç´ ãŒé…ç½®ã•ã‚Œã‚‹ã€‚é–‹ç™ºãƒ„ãƒ¼ãƒ«ã§floatã‚’å¤–ã—ã¦ã¤ã‘ã‚‹ã¨ç›´ã‚‹ã€‚

      <iframe height='265' scrolling='no' title='writing-mode bug - width' src='//codepen.io/kzhrk/embed/RpWrNv/?height=265&theme-id=0&default-tab=css,result&embed-version=2' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%;'>See the Pen <a href='http://codepen.io/kzhrk/pen/RpWrNv/'>writing-mode bug - width</a> by Kobayashi Kazuhiro (<a href='http://codepen.io/kzhrk'>@kzhrk</a>) on <a href='http://codepen.io'>CodePen</a>.</iframe>


      ---


      ## ãƒã‚°å ±å‘Š

      éåŒæœŸæ›¸ãå‡ºã—ã ã¨ã ã„ãŸã„ãƒã‚°ã‚‹


      ---
      class: center, middle

      
      # çµè«–ï¼šãƒã‚°ã„ğŸ˜‡ğŸ˜‡ğŸ˜‡


      ---
      class: center, middle


      # React.js


      ---


      ## å¤§ã¾ã‹ãªReactã®æµã‚Œ

      - React.createClassã§ä»®æƒ³DOMã‚’å®šç¾©

      - render methodã§DOMï¼ˆä»®æƒ³DOMï¼‰ã‚’å®šç¾©

      - ReactDOMã§ä»®æƒ³DOMå‡ºåŠ›

      - Lifecycleã«ãã£ã¦stateã¨propã‚’å¤‰æ›´


      ---


      ## State

      componentå†…ã§å¤‰æ›´å¯èƒ½ã€‚

      componentä½œæˆå¾Œã«å®šç¾©ã•ã‚Œã‚‹ã€‚

      componentå†…ã§æ‰±ã†ãƒ‡ãƒ¼ã‚¿ãªã©ã‚’æ‰±ã†ã€‚

      <!-- TODOãƒªã‚¹ãƒˆã®é …ç›®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ã‚ã‚Œã°TODOã®ãƒ†ã‚­ã‚¹ãƒˆãªã©ã€‚ -->

      ```js
      const Component = React.createClass({
        componentWillMount:()=>{
          this.setState({
            stateKey1: "value1",
            stateKey2: "value2"
          });
        },
        ...
      ```


      ---


      ## Prop

      componentå†…ã§å¤‰æ›´ã—ãªã„ã€‚

      componentä½œæˆæ™‚ã«å®šç¾©ã•ã‚Œã‚‹ã€‚

      componentã®å‘¼ã³å‡ºã—å…ƒã§ã€å¤–éƒ¨ã‹ã‚‰å¤‰æ›´ã•ã‚Œã‚‹å€¤ã‚’æ‰±ã†ã€‚

      <!-- TODOãƒªã‚¹ãƒˆã®é …ç›®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ã‚ã‚Œã°ã€å®Œäº†ã€ç·¨é›†ä¸­ã¨ã„ã£ãŸã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã®ç®¡ç†ãªã©ã€‚ -->

      ```html
      <Component propsKey1="value1" propsKey="value2" />
      ```


      ---
      class: center, middle


      # React Lifecycle

      https://facebook.github.io/react/docs/react-component.html


      ---


      ## React Lifecycle - Mounting

      DOMãŒrenderingã•ã‚Œã‚‹ã¾ã§ã®lifecycle

      | method | description |
      |---|---|
      | constructor() | æœ€åˆã«å‘¼ã°ã‚Œã‚‹ã€‚stateã®åˆæœŸåŒ–ãªã©ã‚’è¡Œã†ã€‚ |
      | componentWillMount() | DOMãŒrenderã•ã‚Œã‚‹å‰ã«ä¸€åº¦å‘¼ã°ã‚Œã‚‹ã€‚APIã‹ã‚‰æƒ…å ±å–å¾—ãªã©ã€‚ |
      | render() | DOMã®å‡ºåŠ› |
      | componentDidMount() | DOMãŒrenderã•ã‚ŒãŸå¾Œã«ä¸€åº¦å‘¼ã°ã‚Œã‚‹ã€‚DOMã®æ“ä½œãªã©ã€‚ |


      ---


      ## React Lifecycle - Updating

      componentã®propsã‹stateã®å¤‰æ›´ã‚’æ„ŸçŸ¥ã—ã¦å†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã•ã›ã‚‹ã€‚

      | method | description |
      |---|---|
      | componentWillReceiveProps() | å¤‰æ›´å¾Œã®Propsã‚’ç›£è¦–ã—ã¦å‡¦ç†ã‚’åŠ ãˆã‚‹ã€‚ç¬¬ä¸€å¼•æ•°ã«å¤‰æ›´å¾Œã®PropsãŒå…¥ã‚‹ã€‚ |
      | shouldComponentUpdate() | returnã‚’è¿”ã™ã¨renderãŒè¡Œã‚ã‚Œãªã„ã€‚ |
      | componentWillUpdate() | å¤‰æ›´å¾Œã®Propsã¨Stateã§ä½•ã‹ã‚’è¡Œã†ã€‚ |
      | render() | å†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã€‚ |
      | componentDidUpdate() | DOMãŒå†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã•ã‚ŒãŸå¾Œã«å®Ÿè¡Œã•ã‚Œã‚‹ã€‚ |


      ---


      ## React Lifecycle - Unmounting

      componentãŒå‰Šé™¤ã•ã‚Œã‚‹ã¨ãã«å®Ÿè¡Œã•ã‚Œã‚‹ã€‚

      | method | description |
      |---|---|
      | componentWillUnmount() | ãƒªã‚½ãƒ¼ã‚¹ã®é–‹æ”¾ |


      ---


      ## react-router

      componentã®stateã€History APIã‚’ç®¡ç†ã™ã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒª

      https://github.com/ReactTraining/react-router/blob/v3/docs/Introduction.md

      v4.0.0-beta.7ãŒãƒªãƒªãƒ¼ã‚¹ã•ã‚Œã¦ã„ã‚‹ã®ã§è¿‘ã€…ãƒ¡ã‚¸ãƒ£ãƒ¼ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¢ãƒƒãƒ—ãŒã‚ã‚Šãã†ã€‚


      ---


      ## ãŸã®ã—ã„æ™‚æœŸ

      APIã‹ã‚‰ãƒ‡ãƒ¼ã‚¿å–å¾—ã—ã¦setStateã™ã‚‹ã ã‘ã§DOMãŒå‡ºåŠ›ã•ã‚Œã‚‹ã€‚

      ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ãŸã®ã—ã„ã€‚


      ---


      ## ã¤ã‚‰ã„æ™‚æœŸ

      componentã®è¤‡é›‘åŒ–ã€‚

      componenté–“ã§ã®ãƒ‡ãƒ¼ã‚¿ã®ã‚„ã‚Šã¨ã‚Šã€‚

      propã‚’ä½¿ã£ãŸstateã®ãƒã‚±ãƒ„ãƒªãƒ¬ãƒ¼ğŸ˜‡ğŸ˜‡ğŸ˜‡

      ???

      GridColumn => Senriu => Work => ThemeSenriuã§Velocity Animationã®å®Œäº†ã¤ã†ä½ã€‚


      ---
      class: center, middle


      # ã›ã‚“ã‚Šã†ã®ä»Šå¾Œ


      ---


      ## ã¨ã„ã†ã‹æ®‹ã‚¿ã‚¹ã‚¯

      - .del[Chromeã®Googleæ—¥æœ¬èªãƒ•ã‚©ãƒ³ãƒˆå•é¡Œ]
      - IE11å¯¾å¿œ
      - ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œ
      - ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å…±é€šåŒ–
      - Reduxå°å…¥
      - ã‚µãƒ¼ãƒã‚µã‚¤ãƒ‰JSã®webpackåŒ–
        - Server-Side Rendering
      - ãƒ¦ãƒ¼ã‚¶ç™»éŒ²
        - JWTå¯¾å¿œ
        - favoriteæ©Ÿèƒ½
        - å‰Šé™¤æ©Ÿèƒ½
      - react-router v4
      - webpack v2

      ---
      class: center, middle


      # END


    </textarea>
    <script src="js/remark.min.js" type="text/javascript">
    </script>
    <script type="text/javascript">
      var slideshow = remark.create();
    </script>
  </body>
</html>
